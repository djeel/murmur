var h=Object.defineProperty;var c=(r,e,t)=>e in r?h(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var i=(r,e,t)=>c(r,typeof e!="symbol"?e+"":e,t);(function(){"use strict";class r extends AudioWorkletProcessor{constructor(){super();i(this,"buffer");i(this,"bufferSize",4096);i(this,"writeIndex",0);this.buffer=new Int16Array(this.bufferSize)}process(s,a,d){const f=s[0];if(f&&f.length>0){const u=f[0];for(let o=0;o<u.length;o++){this.writeIndex>=this.bufferSize&&this.flush();const n=Math.max(-1,Math.min(1,u[o]));this.buffer[this.writeIndex++]=n<0?n*32768:n*32767}}return!0}flush(){if(this.writeIndex>0){const s=this.buffer.slice(0,this.writeIndex);this.port.postMessage(s.buffer,[s.buffer]),this.writeIndex=0}}}registerProcessor("recorder-processor",r)})();
